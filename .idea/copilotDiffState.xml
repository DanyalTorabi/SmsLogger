<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/.github/workflows/ci-cd.yml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/.github/workflows/ci-cd.yml" />
              <option name="updatedContent" value="name: CI/CD Pipeline&#10;&#10;on:&#10;  pull_request:&#10;    branches: [main, develop]&#10;  push:&#10;    branches: [main, develop]&#10;&#10;jobs:&#10;  lint-and-test:&#10;    runs-on: ubuntu-latest&#10;    &#10;    steps:&#10;    - name: Checkout code&#10;      uses: actions/checkout@v4&#10;      &#10;    - name: Set up JDK 17&#10;      uses: actions/setup-java@v4&#10;      with:&#10;        java-version: '17'&#10;        distribution: 'temurin'&#10;        &#10;    - name: Cache Gradle packages&#10;      uses: actions/cache@v3&#10;      with:&#10;        path: |&#10;          ~/.gradle/caches&#10;          ~/.gradle/wrapper&#10;        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}&#10;        restore-keys: |&#10;          ${{ runner.os }}-gradle-&#10;          &#10;    - name: Grant execute permission for gradlew&#10;      run: chmod +x gradlew&#10;      &#10;    - name: Run lint&#10;      run: ./gradlew lint&#10;      &#10;    - name: Run unit tests&#10;      run: ./gradlew test&#10;      &#10;    - name: Build debug APK&#10;      run: ./gradlew assembleDebug&#10;      &#10;    - name: Upload build artifacts&#10;      uses: actions/upload-artifact@v3&#10;      if: always()&#10;      with:&#10;        name: build-artifacts&#10;        path: |&#10;          app/build/outputs/&#10;          app/build/reports/&#10;          &#10;  security-scan:&#10;    runs-on: ubuntu-latest&#10;    steps:&#10;    - name: Checkout code&#10;      uses: actions/checkout@v4&#10;      &#10;    - name: Run security scan&#10;      uses: securecodewarrior/github-action-add-sarif@v1&#10;      continue-on-error: true&#10;      with:&#10;        sarif-file: 'security-scan-results.sarif'" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/README.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/README.md" />
              <option name="originalContent" value="# SMS Logger&#10;&#10;A robust Android application that monitors, logs, and tracks all SMS messages on your device in real-time. This app runs as a background service and maintains a comprehensive database of all incoming and outgoing SMS messages with detailed metadata.&#10;&#10;## Features&#10;&#10;### Core Functionality&#10;- **Real-time SMS Monitoring**: Automatically captures all incoming and outgoing SMS messages&#10;- **Background Service**: Runs continuously in the background with foreground service notification&#10;- **Auto-start on Boot**: Automatically starts monitoring when device boots up&#10;- **Duplicate Prevention**: Intelligent deduplication to prevent logging the same message multiple times&#10;- **Database Storage**: Persistent SQLite database storage using Room&#10;&#10;### Rich SMS Data Capture&#10;- **Basic Information**: Phone number, message body, timestamp, SMS type&#10;- **Advanced Metadata**:&#10;  - Thread ID (groups related messages in conversations)&#10;  - Date sent vs date received timestamps&#10;  - Contact name resolution (if phone number matches contacts)&#10;  - Original SMS provider ID for cross-reference&#10;  - Event timestamps for audit trails&#10;&#10;### Smart Synchronization&#10;- **Startup Sync**: Scans and imports all existing SMS messages on first run&#10;- **Incremental Updates**: Only processes new messages to avoid duplicates&#10;- **Content Provider Integration**: Reads directly from Android's SMS content provider&#10;- **Delayed Processing**: 5-second delay for incoming SMS to ensure data availability&#10;&#10;## Technical Architecture&#10;&#10;### Components&#10;- **MainActivity**: User interface for permissions and service control&#10;- **SmsLoggingService**: Background foreground service for continuous monitoring&#10;- **SmsReceiver**: Broadcast receiver for real-time SMS detection&#10;- **BootCompletedReceiver**: Auto-starts service on device boot&#10;- **Room Database**: SQLite database with migration support&#10;&#10;### Database Schema&#10;Table: `sms_log` (Version 2)&#10;&#10;| Column | Type | Description |&#10;|--------|------|-------------|&#10;| `id` | Long (PK) | Auto-incrementing unique identifier |&#10;| `smsId` | Long? | Original SMS ID from Android provider |&#10;| `smsTimestamp` | Long | When SMS was received/sent (Unix timestamp) |&#10;| `eventTimestamp` | Long | When event was logged (Unix timestamp) |&#10;| `phoneNumber` | String | Sender/receiver phone number |&#10;| `body` | String | SMS message content |&#10;| `eventType` | String | RECEIVED, SENT, OUTBOX, DRAFT, FAILED, QUEUED |&#10;| `threadId` | Long? | Conversation thread grouping ID |&#10;| `dateSent` | Long? | When SMS was actually sent (sender perspective) |&#10;| `person` | String? | Contact name if phone number matches contacts |&#10;&#10;## Installation &amp; Setup&#10;&#10;### Prerequisites&#10;- Android 6.0 (API 23) or higher&#10;- SMS permissions (granted at runtime)&#10;&#10;### Installation Steps&#10;1. Clone the repository&#10;```bash&#10;git clone &lt;repository-url&gt;&#10;cd SmsLogger&#10;```&#10;&#10;2. Open in Android Studio&#10;3. Build and run the project&#10;4. Grant required permissions when prompted:&#10;   - READ_SMS: To read existing SMS messages&#10;   - RECEIVE_SMS: To monitor incoming SMS messages&#10;&#10;### First Run Setup&#10;1. Launch the app&#10;2. Tap &quot;Start Service&quot; button&#10;3. Grant SMS permissions when prompted&#10;4. The service will automatically:&#10;   - Start background monitoring&#10;   - Sync all existing SMS messages&#10;   - Begin logging new messages&#10;&#10;## Usage&#10;&#10;### Starting the Service&#10;- Use the &quot;Start Service&quot; button in the main activity&#10;- Service automatically starts on device boot (after first manual start)&#10;- Foreground notification indicates service is running&#10;&#10;### Viewing Logged Data&#10;- Tap &quot;Log All SMS&quot; button to output all stored messages to Logcat&#10;- Use Android Studio's Logcat viewer to see detailed SMS logs&#10;- Each log entry includes all metadata fields&#10;&#10;### Service Management&#10;- Service runs continuously until manually stopped&#10;- Survives app closure and device restarts&#10;- Minimal battery impact due to efficient event-driven architecture&#10;&#10;## Development&#10;&#10;### Key Files&#10;- `MainActivity.kt`: Main UI and permission handling&#10;- `SmsLoggingService.kt`: Core background service with SMS processing&#10;- `SmsReceiver.kt`: Broadcast receiver for incoming SMS&#10;- `BootCompletedReceiver.kt`: Auto-start on boot functionality&#10;- `SmsMessage.kt`: Database entity model&#10;- `SmsDao.kt`: Database access operations&#10;- `AppDatabase.kt`: Room database configuration with migrations&#10;&#10;### Database Migrations&#10;The app supports seamless database upgrades:&#10;- Version 1 → 2: Added threadId, dateSent, and person fields&#10;- Migration preserves all existing data&#10;&#10;### Building&#10;```bash&#10;./gradlew assembleDebug    # Debug build&#10;./gradlew assembleRelease  # Release build&#10;```&#10;&#10;## Permissions&#10;&#10;### Required Permissions&#10;- `android.permission.RECEIVE_SMS`: Monitor incoming SMS messages&#10;- `android.permission.READ_SMS`: Access existing SMS database&#10;- `android.permission.RECEIVE_BOOT_COMPLETED`: Auto-start on boot&#10;- `android.permission.FOREGROUND_SERVICE`: Run background service&#10;&#10;### Runtime Permissions&#10;SMS permissions are requested at runtime with user-friendly prompts and explanations.&#10;&#10;## Privacy &amp; Security&#10;&#10;- **Local Storage Only**: All data stored locally on device&#10;- **No Network Access**: No internet permissions, data never transmitted&#10;- **User Control**: Users can stop service and clear data at any time&#10;- **Permission Transparency**: Clear explanation of why permissions are needed&#10;&#10;## Troubleshooting&#10;&#10;### Common Issues&#10;&#10;**Service not starting**&#10;- Ensure SMS permissions are granted&#10;- Check if battery optimization is disabled for the app&#10;- Verify notification permissions (Android 13+)&#10;&#10;**Missing SMS messages**&#10;- Check that app is set as default SMS app (if required by device)&#10;- Ensure sufficient storage space&#10;- Verify READ_SMS permission is granted&#10;&#10;**Duplicate messages**&#10;- App includes built-in deduplication logic&#10;- If issues persist, clear app data and restart&#10;&#10;### Debugging&#10;- Enable verbose logging in SmsLoggingService&#10;- Use &quot;Log All SMS&quot; button to verify database contents&#10;- Check Logcat for detailed error messages&#10;&#10;## Contributing&#10;&#10;1. Fork the repository&#10;2. Create a feature branch&#10;3. Make your changes&#10;4. Add tests if applicable&#10;5. Submit a pull request&#10;&#10;## License&#10;&#10;[Add your license information here]&#10;&#10;## Version History&#10;&#10;### Version 2.0&#10;- Added thread ID, date sent, and contact name fields&#10;- Improved SMS synchronization logic&#10;- Enhanced database schema with migrations&#10;- Fixed initialization issues in SMS receiver&#10;&#10;### Version 1.0&#10;- Initial release&#10;- Basic SMS monitoring and logging&#10;- Background service implementation&#10;- Room database integration&#10;&#10;## Support&#10;&#10;For issues, questions, or feature requests, please [create an issue](link-to-issues) in the repository.&#10;" />
              <option name="updatedContent" value="# SMS Logger&#10;&#10;A robust Android application that monitors, logs, and tracks all SMS messages on your device in real-time. This app runs as a background service and maintains a comprehensive database of all incoming and outgoing SMS messages with detailed metadata.&#10;&#10;## Features&#10;&#10;### Core Functionality&#10;- **Real-time SMS Monitoring**: Automatically captures all incoming and outgoing SMS messages&#10;- **Background Service**: Runs continuously in the background with foreground service notification&#10;- **Auto-start on Boot**: Automatically starts monitoring when device boots up&#10;- **Duplicate Prevention**: Intelligent deduplication to prevent logging the same message multiple times&#10;- **Database Storage**: Persistent SQLite database storage using Room&#10;&#10;### Rich SMS Data Capture&#10;- **Basic Information**: Phone number, message body, timestamp, SMS type&#10;- **Advanced Metadata**:&#10;  - Thread ID (groups related messages in conversations)&#10;  - Date sent vs date received timestamps&#10;  - Contact name resolution (if phone number matches contacts)&#10;  - Original SMS provider ID for cross-reference&#10;  - Event timestamps for audit trails&#10;&#10;### Smart Synchronization&#10;- **Startup Sync**: Scans and imports all existing SMS messages on first run&#10;- **Incremental Updates**: Only processes new messages to avoid duplicates&#10;- **Content Provider Integration**: Reads directly from Android's SMS content provider&#10;- **Delayed Processing**: 5-second delay for incoming SMS to ensure data availability&#10;&#10;## Technical Architecture&#10;&#10;### Components&#10;- **MainActivity**: User interface for permissions and service control&#10;- **SmsLoggingService**: Background foreground service for continuous monitoring&#10;- **SmsReceiver**: Broadcast receiver for real-time SMS detection&#10;- **BootCompletedReceiver**: Auto-starts service on device boot&#10;- **Room Database**: SQLite database with migration support&#10;&#10;### Database Schema&#10;Table: `sms_log` (Version 2)&#10;&#10;| Column | Type | Description |&#10;|--------|------|-------------|&#10;| `id` | Long (PK) | Auto-incrementing unique identifier |&#10;| `smsId` | Long? | Original SMS ID from Android provider |&#10;| `smsTimestamp` | Long | When SMS was received/sent (Unix timestamp) |&#10;| `eventTimestamp` | Long | When event was logged (Unix timestamp) |&#10;| `phoneNumber` | String | Sender/receiver phone number |&#10;| `body` | String | SMS message content |&#10;| `eventType` | String | RECEIVED, SENT, OUTBOX, DRAFT, FAILED, QUEUED |&#10;| `threadId` | Long? | Conversation thread grouping ID |&#10;| `dateSent` | Long? | When SMS was actually sent (sender perspective) |&#10;| `person` | String? | Contact name if phone number matches contacts |&#10;&#10;## Installation &amp; Setup&#10;&#10;### Prerequisites&#10;- Android 6.0 (API 23) or higher&#10;- SMS permissions (granted at runtime)&#10;&#10;### Installation Steps&#10;1. Clone the repository&#10;```bash&#10;git clone &lt;repository-url&gt;&#10;cd SmsLogger&#10;```&#10;&#10;2. Open in Android Studio&#10;3. Build and run the project&#10;4. Grant required permissions when prompted:&#10;   - READ_SMS: To read existing SMS messages&#10;   - RECEIVE_SMS: To monitor incoming SMS messages&#10;&#10;### First Run Setup&#10;1. Launch the app&#10;2. Tap &quot;Start Service&quot; button&#10;3. Grant SMS permissions when prompted&#10;4. The service will automatically:&#10;   - Start background monitoring&#10;   - Sync all existing SMS messages&#10;   - Begin logging new messages&#10;&#10;## Usage&#10;&#10;### Starting the Service&#10;- Use the &quot;Start Service&quot; button in the main activity&#10;- Service automatically starts on device boot (after first manual start)&#10;- Foreground notification indicates service is running&#10;&#10;### Viewing Logged Data&#10;- Tap &quot;Log All SMS&quot; button to output all stored messages to Logcat&#10;- Use Android Studio's Logcat viewer to see detailed SMS logs&#10;- Each log entry includes all metadata fields&#10;&#10;### Service Management&#10;- Service runs continuously until manually stopped&#10;- Survives app closure and device restarts&#10;- Minimal battery impact due to efficient event-driven architecture&#10;&#10;## Development&#10;&#10;### Development Workflow&#10;&#10;We follow a structured branching strategy to ensure clean development and safe releases. Please read our [Contributing Guidelines](CONTRIBUTING.md) for detailed information.&#10;&#10;#### Quick Start for Contributors&#10;&#10;1. **Fork and Clone**&#10;   ```bash&#10;   git clone https://github.com/YOUR_USERNAME/SmsLogger.git&#10;   cd SmsLogger&#10;   git remote add upstream https://github.com/DanyalTorabi/SmsLogger.git&#10;   ```&#10;&#10;2. **Create Feature Branch**&#10;   ```bash&#10;   git checkout develop&#10;   git pull upstream develop&#10;   git checkout -b feature/your-feature-name&#10;   ```&#10;&#10;3. **Make Changes and Test**&#10;   ```bash&#10;   # Make your changes&#10;   ./gradlew test&#10;   ./gradlew assembleDebug&#10;   ```&#10;&#10;4. **Submit Pull Request**&#10;   - Push your branch to your fork&#10;   - Create PR against `develop` branch&#10;   - Follow the PR template and guidelines&#10;&#10;#### Branch Structure&#10;- **`main`** - Production-ready code (protected)&#10;- **`develop`** - Integration branch for features&#10;- **`feature/*`** - Feature development branches&#10;- **`fix/*`** - Bug fix branches  &#10;- **`hotfix/*`** - Critical production fixes&#10;- **`release/*`** - Release preparation branches&#10;- **`devops/*`** - Infrastructure and tooling changes&#10;&#10;#### Branch Naming Examples&#10;- `feature/sms-backup-restore`&#10;- `fix/duplicate-message-detection`&#10;- `hotfix/service-crash-android-14`&#10;- `release/v1.3.0`&#10;- `devops/github-actions-ci`&#10;&#10;For complete workflow details, see [CONTRIBUTING.md](CONTRIBUTING.md).&#10;&#10;### Key Files&#10;- `MainActivity.kt`: Main UI and permission handling&#10;- `SmsLoggingService.kt`: Core background service with SMS processing&#10;- `SmsReceiver.kt`: Broadcast receiver for incoming SMS&#10;- `BootCompletedReceiver.kt`: Auto-start on boot functionality&#10;- `SmsMessage.kt`: Database entity model&#10;- `SmsDao.kt`: Database access operations&#10;- `AppDatabase.kt`: Room database configuration with migrations&#10;&#10;### Database Migrations&#10;The app supports seamless database upgrades:&#10;- Version 1 → 2: Added threadId, dateSent, and person fields&#10;- Migration preserves all existing data&#10;&#10;### Building&#10;```bash&#10;./gradlew assembleDebug    # Debug build&#10;./gradlew assembleRelease  # Release build&#10;```&#10;&#10;## Permissions&#10;&#10;### Required Permissions&#10;- `android.permission.RECEIVE_SMS`: Monitor incoming SMS messages&#10;- `android.permission.READ_SMS`: Access existing SMS database&#10;- `android.permission.RECEIVE_BOOT_COMPLETED`: Auto-start on boot&#10;- `android.permission.FOREGROUND_SERVICE`: Run background service&#10;&#10;### Runtime Permissions&#10;SMS permissions are requested at runtime with user-friendly prompts and explanations.&#10;&#10;## Privacy &amp; Security&#10;&#10;- **Local Storage Only**: All data stored locally on device&#10;- **No Network Access**: No internet permissions, data never transmitted&#10;- **User Control**: Users can stop service and clear data at any time&#10;- **Permission Transparency**: Clear explanation of why permissions are needed&#10;&#10;## Troubleshooting&#10;&#10;### Common Issues&#10;&#10;**Service not starting**&#10;- Ensure SMS permissions are granted&#10;- Check if battery optimization is disabled for the app&#10;- Verify notification permissions (Android 13+)&#10;&#10;**Missing SMS messages**&#10;- Check that app is set as default SMS app (if required by device)&#10;- Ensure sufficient storage space&#10;- Verify READ_SMS permission is granted&#10;&#10;**Duplicate messages**&#10;- App includes built-in deduplication logic&#10;- If issues persist, clear app data and restart&#10;&#10;### Debugging&#10;- Enable verbose logging in SmsLoggingService&#10;- Use &quot;Log All SMS&quot; button to verify database contents&#10;- Check Logcat for detailed error messages&#10;&#10;## Contributing&#10;&#10;1. Fork the repository&#10;2. Create a feature branch&#10;3. Make your changes&#10;4. Add tests if applicable&#10;5. Submit a pull request&#10;&#10;## License&#10;&#10;[Add your license information here]&#10;&#10;## Version History&#10;&#10;### Version 2.0&#10;- Added thread ID, date sent, and contact name fields&#10;- Improved SMS synchronization logic&#10;- Enhanced database schema with migrations&#10;- Fixed initialization issues in SMS receiver&#10;&#10;### Version 1.0&#10;- Initial release&#10;- Basic SMS monitoring and logging&#10;- Background service implementation&#10;- Room database integration&#10;&#10;## Support&#10;&#10;For issues, questions, or feature requests, please [create an issue](link-to-issues) in the repository." />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>